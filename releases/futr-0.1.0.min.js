!function(e){"use strict";var t,n,i=[];if(typeof global=="object"&&global){t=global;n=global.Future}else if(typeof window!=="undefined"){t=window;n=window.Future}else{t={}}if(n){i.push(function(){if(t.Future===u){t.Future=n;n=e}})}function u(e){Object.defineProperty(this,"_callbacks",{value:[]});if(typeof e!=="undefined"){this.set(e)}}Object.defineProperties(u.prototype,{notify:{value:function(e){var t=this._val;if(e){if(typeof t!=="undefined"){e(t)}else{this._callbacks.push(e)}}else{var n=this._callbacks,i=n?n.length:0,u=-1;while(++u<i){n[u](t)}this._callbacks.length=0}}},has:{value:function(){return typeof this._val!=="undefined"},enumerable:true},get:{value:function(e){if(typeof e==="function"){this.notify(e)}return this._val},enumerable:true},set:{value:function(e){if(typeof this._val!=="undefined"){throw new Error("Invalid operation; future variable already set.")}Object.defineProperty(this,"_val",{value:e});this.notify();return e},enumerable:true}});u.create=function(e){return new u(e)};u.noConflict=function(){if(i){i.forEach(function(e){e()});i=null}return Define};if(typeof module!="undefined"&&module&&typeof exports=="object"&&exports&&module.exports===exports){module.exports=u}else{t.Future=u}}();